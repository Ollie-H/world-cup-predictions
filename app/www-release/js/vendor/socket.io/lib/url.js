function url(e,t){var n=e,t=t||global.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&"undefined"!=typeof t&&(e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(debug("protocol-less url %s",e),"undefined"!=typeof t?e=t.protocol+"//"+e:e="https://"+e),debug("parse %s",e),n=parseuri(e)),(/(http|ws)/.test(n.protocol)&&80==n.port||/(http|ws)s/.test(n.protocol)&&443==n.port)&&delete n.port,n.path=n.path||"/",n.id=n.protocol+n.host+(n.port?":"+n.port:""),n.href=n.protocol+"://"+n.host+(n.port?":"+n.port:""),n}var parseuri=require("parseuri"),debug=require("debug")("socket.io-client:url");module.exports=url;